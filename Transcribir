# ğŸ“Œ Paso 1: InstalaciÃ³n de librerÃ­as necesarias
!apt-get install -y tesseract-ocr tesseract-ocr-spa
!pip install pytesseract Pillow
# ğŸ“Œ Paso 2: Importar librerÃ­as
from PIL import Image
import pytesseract
import os
import re

# ğŸ“Œ Paso 3: Buscar automÃ¡ticamente imÃ¡genes en /content
image_files = [f for f in os.listdir("/content") if f.lower().endswith(('.png', '.jpg', '.jpeg'))]

if not image_files:
    print("âš ï¸ No se encontraron imÃ¡genes en la carpeta /content.")
else:
    for file_name in image_files:
        print(f"\nğŸ“· Procesando imagen: {file_name}")
        
        # Abrimos la imagen
        image_path = os.path.join("/content", file_name)
        image = Image.open(image_path)

        # Usamos OCR para extraer el texto
        raw_text = pytesseract.image_to_string(image, lang='spa')

        # Limpiar texto (opcional)
        clean_text = "\n".join([line.strip() for line in raw_text.splitlines() if line.strip() != ""])

        # Mostrar el texto extraÃ­do
        print("\nğŸ“ Texto extraÃ­do:\n")
        print(clean_text)

        # Guardar en archivo .txt
        output_filename = f"{os.path.splitext(file_name)[0]}_extraido.txt"
        with open(output_filename, "w", encoding="utf-8") as f:
            f.write(clean_text)

        # Descargar el archivo
        from google.colab import files
        files.download(output_filename)
        print(f"\nâœ… Archivo '{output_filename}' listo para descargar.")
